function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _CustomElement(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}function _taggedTemplateLiteral(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_templateObject=_taggedTemplateLiteral(["<style>\n    :host{\n        display: inline-block;\n        flex: 0 1 auto;\n        box-sizing: border-box;\n        width: 100%;\n        height: auto;\n        min-height: 100vh;\n        align-self: center;\n    }\n  </style>\n  <slot></slot>\n"],["<style>\n    :host{\n        display: inline-block;\n        flex: 0 1 auto;\n        box-sizing: border-box;\n        width: 100%;\n        height: auto;\n        min-height: 100vh;\n        align-self: center;\n    }\n  </style>\n  <slot></slot>\n"]);Object.setPrototypeOf(_CustomElement.prototype,HTMLElement.prototype),Object.setPrototypeOf(_CustomElement,HTMLElement),function(){"use strict";var t=function(t){var e=t[t.length-1],n=document.createElement("template");return n.innerHTML=e,n},e=t(_templateObject),n=function(t){function n(){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),i=t.attachShadow({mode:"open"});return"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(e,"page-section-container"),ShadyCSS.styleElement(t)),i.appendChild(document.importNode(e.content,!0)),t}return _inherits(n,t),_createClass(n,[{key:"connectedCallback",value:function(){var t,e=this;window.addEventListener("scroll",function(){clearTimeout(t),t=setTimeout(function(){e.setActiveState()},10)}),setTimeout(function(){e.setActiveState()},1)}},{key:"setActiveState",value:function(){this._inView?(this._setActive(),Array.prototype.slice.call(this.querySelectorAll("page-section")).map(function(t,e,n){t.parent=t,t.setActiveState()})):this._setUnactive()}},{key:"_setActive",value:function(){this.hasAttribute("active")||(this.setAttribute("active",""),this.dispatchEvent(new CustomEvent("activated",{detail:{wasActivated:null!==this.getAttribute("wasActivated")}})))}},{key:"_setUnactive",value:function(){this.hasAttribute("active")&&!this.hasAttribute("wasActivated")&&this.setAttribute("wasActivated",""),this.removeAttribute("active"),this.dispatchEvent(new CustomEvent("deactivated"))}},{key:"_inView",get:function(){return this.getBoundingClientRect().bottom>0&&this.getBoundingClientRect().top<window.innerHeight}}]),n}(_CustomElement),i=t(_templateObject),o=function(t){function e(){_classCallCheck(this,e);var t=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),n=t.attachShadow({mode:"open"});return"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(i,"page-section"),ShadyCSS.styleElement(t)),n.appendChild(document.importNode(i.content,!0)),t}return _inherits(e,t),_createClass(e,[{key:"setActiveState",value:function(){this._inView?this._setActive():this._setUnactive()}},{key:"_setActive",value:function(){this.hasAttribute("active")||(this.setAttribute("active",""),this.dispatchEvent(new CustomEvent("activated",{detail:{wasActivated:null!==this.getAttribute("wasActivated")}})))}},{key:"_setUnactive",value:function(){this.hasAttribute("active")&&!this.hasAttribute("wasActivated")&&this.setAttribute("wasActivated",""),this.removeAttribute("active"),this.dispatchEvent(new CustomEvent("deactivated"))}},{key:"_inView",get:function(){var t=Math.min(1,parseFloat(this.getAttribute("requiredVisible"))||parseFloat(this.parent.getAttribute("requiredVisible"))||.6),e=t*Math.min(this.getBoundingClientRect().height,window.innerHeight),n=this.getBoundingClientRect().height;return n+=Math.min(0,this.getBoundingClientRect().top),(n-=Math.max(0,this.getBoundingClientRect().bottom-window.innerHeight))>=e}}]),e}(_CustomElement);window.customElements.define("page-sections",n),window.customElements.define("page-section",o)}();
//# sourceMappingURL=webcomponents.js.map
