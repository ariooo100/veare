{"version":3,"sources":["page-sections.js","grid.js","responsiveImage.js"],"names":["makeTemplate","strings","html","length","template","document","createElement","innerHTML","_templateObject","PageSectionContainer","_CustomElement2","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","shadowRoot","attachShadow","mode","ShadyCSS","prepareTemplate","styleElement","appendChild","importNode","content","_inherits","_CustomElement","_createClass","key","value","fn","element","window","addEventListener","clearTimeout","setTimeout","setActiveState","_inView","_setActive","Array","prototype","slice","querySelectorAll","map","item","index","array","parent","_setUnactive","hasAttribute","setAttribute","dispatchEvent","CustomEvent","removeAttribute","get","getBoundingClientRect","bottom","top","innerHeight","template$1","_templateObject2","PageSection","_CustomElement3","_this2","_fullscreen","_maxwidth","attrName","oldVal","newVal","requiredVisiblePx","Math","min","parseFloat","getAttribute","height","visibleHeight","max","set","fullscreen","_isTruthy","maxwidth","contentElement","querySelector","style","maxWidth","customElements","define","globalStyles","Grid","_columns","_rows","_gutter","_rowgutter","_autoflow","getComputedStyle","documentElement","maxColumns","parseInt","String","getPropertyValue","trim","maxRows","_columnCss","_breakPointCss","breakpoints","forEach","size","breakpoint","arguments","undefined","i","_getBreakpoints","keys","autoflow","gutter","setProperty","rowgutter","columns","_this3","split","replace","rows","_this4","ready","readyState","ResponsiveImage","_src","_placeholder","_active","_img","_aspectRatio","_observer","_threshold","_setAspectRatio","_loadPlaceholder","_createObserver","_destroyObserver","IntersectionObserver","changes","change","isIntersecting","target","threshold","observe","unobserve","paddingBottom","src","_loadImage","placeholder","active","toString","toFixed","isNaN","aspectRatio","ratios","ratio"],"mappings":"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","file":"webcomponents.js","sourcesContent":["(function () {\n'use strict';\n\nconst makeTemplate = function (strings) {\n    let html = strings[strings.length - 1];\n    let template = document.createElement('template');\n    template.innerHTML = html;\n    return template;\n};\n\nlet template = makeTemplate `<style>\n    :host{\n        display: inline-block;\n        flex: 0 1 auto;\n        box-sizing: border-box;\n        width: 100%;\n        height: auto;\n        min-height: 100vh;\n        align-self: center;\n    }\n  </style>\n  <slot></slot>\n`;\nclass PageSectionContainer extends HTMLElement {\n    constructor() {\n        super();\n        let shadowRoot = this.attachShadow({ mode: 'open' });\n        if (typeof ShadyCSS !== 'undefined') {\n            ShadyCSS.prepareTemplate(template, 'page-section-container');\n            ShadyCSS.styleElement(this);\n        }\n        shadowRoot.appendChild(document.importNode(template.content, true));\n    }\n    connectedCallback() {\n        let element = this;\n        var fn;\n        window.addEventListener('scroll', function () {\n            clearTimeout(fn);\n            fn = setTimeout(function () {\n                element.setActiveState();\n            }, 10);\n        });\n        setTimeout(function () {\n            element.setActiveState();\n        }, 1);\n    }\n    get _inView() {\n        return this.getBoundingClientRect().bottom > 0 && this.getBoundingClientRect().top < window.innerHeight;\n    }\n    setActiveState() {\n        if (this._inView) {\n            this._setActive();\n            Array.prototype.slice.call(this.querySelectorAll('page-section')).map(function (item, index, array) {\n                item.parent = item;\n                item.setActiveState();\n            });\n        }\n        else {\n            this._setUnactive();\n        }\n    }\n    _setActive() {\n        if (this.hasAttribute('active'))\n            return;\n        this.setAttribute('active', '');\n        this.dispatchEvent(new CustomEvent('activated'));\n    }\n    _setUnactive() {\n        if (this.hasAttribute('active') && !this.hasAttribute('activated')) {\n            this.setAttribute('activated', '');\n        }\n        this.removeAttribute('active');\n        this.dispatchEvent(new CustomEvent('deactivated'));\n    }\n}\n\nlet template$1 = makeTemplate `<style>\n    :host{\n      display: flex;\n      flex-direction: column;\n      flex: 0 1 auto;\n      box-sizing: border-box;\n      width: 100%;\n      height: auto;\n      align-self: center;\n    }\n    :host([fullscreen]){\n      min-height: 100vh;\n    }\n    :host([centered]){\n      align-items: stretch;\n      flex-direction: row;\n      justify-content: center;\n    }\n    :host([centered]) > #content{\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      flex: 1 1 auto;\n    }\n    #content{\n      width: var(--page-section-width, auto);\n      height: var(--page-section-height, auto);\n      min-width: var(--page-section-min-width, auto);\n      min-height: var(--page-section-min-height, auto);\n      max-width: var(--page-section-max-width, auto);\n      max-height: var(--page-section-max-height, auto);\n    }\n  </style>\n  <div id=\"content\">\n    <slot></slot>\n  </div>\n`;\nclass PageSection extends HTMLElement {\n    constructor() {\n        super();\n        this._fullscreen = false;\n        this._maxwidth = null;\n        let shadowRoot = this.attachShadow({ mode: 'open' });\n        if (typeof ShadyCSS !== 'undefined') {\n            ShadyCSS.prepareTemplate(template$1, 'page-section');\n            ShadyCSS.styleElement(this);\n        }\n        shadowRoot.appendChild(document.importNode(template$1.content, true));\n    }\n    static get observedAttributes() {\n        return ['src', 'fullscreen', 'maxwidth'];\n    }\n    attributeChangedCallback(attrName, oldVal, newVal) {\n        this[attrName] = newVal;\n    }\n    get _inView() {\n        var minVisible = Math.min(1, (parseFloat(this.getAttribute('requiredVisible')) || parseFloat(this.parent.getAttribute('requiredVisible')) || 0.6));\n        var requiredVisiblePx = minVisible * Math.min(this.getBoundingClientRect().height, window.innerHeight);\n        var visibleHeight = this.getBoundingClientRect().height;\n        visibleHeight += Math.min(0, this.getBoundingClientRect().top);\n        visibleHeight -= Math.max(0, (this.getBoundingClientRect().bottom - window.innerHeight));\n        return visibleHeight >= requiredVisiblePx;\n    }\n    setActiveState() {\n        if (this._inView) {\n            this._setActive();\n        }\n        else {\n            this._setUnactive();\n        }\n    }\n    _setActive() {\n        if (this.hasAttribute('active'))\n            return;\n        this.setAttribute('active', '');\n        this.dispatchEvent(new CustomEvent('activated'));\n    }\n    _setUnactive() {\n        if (this.hasAttribute('active') && !this.hasAttribute('activated')) {\n            this.setAttribute('activated', '');\n        }\n        this.removeAttribute('active');\n        this.dispatchEvent(new CustomEvent('deactivated'));\n    }\n    set fullscreen(fullscreen) {\n        if (this._fullscreen === this._isTruthy(fullscreen))\n            return;\n        this._fullscreen = this._isTruthy(fullscreen);\n        if (this._fullscreen) {\n            this.setAttribute('fullscreen', '');\n        }\n        else {\n            this.removeAttribute('fullscreen');\n        }\n    }\n    get fullscreen() {\n        return this._fullscreen;\n    }\n    set maxwidth(maxwidth) {\n        if (this._maxwidth === maxwidth)\n            return;\n        this._maxwidth = maxwidth;\n        let contentElement = this.shadowRoot.querySelector('#content');\n        if (this._maxwidth !== null && this._maxwidth !== 'none') {\n            contentElement.style.maxWidth = maxwidth;\n            this.setAttribute('maxWidth', maxwidth);\n        }\n        else {\n            contentElement.style.maxWidth = 'auto';\n            this.removeAttribute('maxWidth');\n        }\n    }\n    get maxwidth() {\n        return this._maxwidth;\n    }\n    _isTruthy(value) {\n        if (value === true || value === 'true' || value === '') {\n            return true;\n        }\n        return false;\n    }\n}\n\nwindow.customElements.define('page-sections', PageSectionContainer);\nwindow.customElements.define('page-section', PageSection);\n\n}());\n//# sourceMappingURL=page-sections.js.map\n","(function () {\n'use strict';\n\nlet globalStyles;\nlet shadowRoot;\nlet style = `\n:host{\n  display: grid;\n  grid-template-columns: repeat(var(--grid-columns, auto-fill), 1fr);\n  grid-template-rows: var(--grid-rows, none);\n  grid-gap: var(--grid-gutter, 0);\n  grid-row-gap: var(--grid-row-gutter, var(--grid-gutter, 0));\n}\n:host([autoflow]){\n  grid-auto-flow: row dense;\n}\n:host([autoflow=column]){\n  grid-auto-flow: column dense;\n}\n\\n`;\nlet template = document.createElement('template');\nclass Grid extends HTMLElement {\n    constructor() {\n        super();\n        this._columns = null;\n        this._rows = null;\n        this._gutter = null;\n        this._rowgutter = null;\n        this._autoflow = null;\n        shadowRoot = this.attachShadow({ mode: 'open' });\n    }\n    static get observedAttributes() {\n        return ['gutter', 'rowgutter', 'autoflow', 'rows', 'columns'];\n    }\n    attributeChangedCallback(attrName, oldVal, newVal) {\n        this[attrName] = newVal;\n    }\n    connectedCallback() {\n        globalStyles = window.getComputedStyle(document.documentElement);\n        let maxColumns = parseInt(String(globalStyles.getPropertyValue('--grid-max-columns')).trim()) || 16;\n        let maxRows = parseInt(String(globalStyles.getPropertyValue('--grid-max-rows')).trim()) || 16;\n        style += this._columnCss(maxColumns, maxRows);\n        style += this._breakPointCss(maxColumns, maxRows);\n        template.innerHTML = `<style>${style}</style>\\n<slot></slot>`;\n        if (typeof ShadyCSS !== 'undefined') {\n            ShadyCSS.prepareTemplate(template, 'grid-container');\n            ShadyCSS.styleElement(this);\n        }\n        shadowRoot.appendChild(document.importNode(template.content, true));\n    }\n    _getBreakpoints() {\n        let breakpoints = {};\n        let sizes = ['xs', 's', 'm', 'l', 'xl', 'xxl'];\n        sizes.forEach(function (size) {\n            let breakpoint = String(globalStyles.getPropertyValue('--grid-breakpoint-' + size)).trim() || null;\n            if (breakpoint !== null) {\n                breakpoints[size] = breakpoint;\n            }\n        });\n        return breakpoints;\n    }\n    _columnCss(maxColumns, maxRows, size = '') {\n        let style = ``;\n        for (let i = 1; i <= maxColumns; i++) {\n            style += `::slotted([column~=\"${i}${size}\"]){ grid-column-end: span ${i}; }\\n`;\n            style += `::slotted([start-column~=\"${i}${size}\"]){ grid-column-start: ${i}; }\\n`;\n        }\n        for (let i = 1; i <= maxRows; i++) {\n            style += `::slotted([row~=\"${i}${size}\"]){ grid-row-end: span ${i}; }\\n`;\n            style += `::slotted([start-row~=\"${i}${size}\"]){ grid-row-start: ${i}; }\\n`;\n        }\n        style += `::slotted([start-column~=\"0${size}\"]){ grid-column-start: auto; }\\n`;\n        style += `::slotted([start-row~=\"0${size}\"]){ grid-row-start: auto; }\\n`;\n        return style;\n    }\n    _breakPointCss(maxColumns, maxRows) {\n        let style = ``;\n        let breakpoints = this._getBreakpoints();\n        Object.keys(breakpoints).forEach((size, index) => {\n            style += `@media (min-width:${breakpoints[size]}){\n        :host{\n          grid-template-columns: repeat(var(--grid-columns-${size}, var(--grid-columns, auto-fill)), 1fr);\n          grid-template-rows: var(--grid-rows-${size}, var(--grid-rows, none));\n        }\n        ${this._columnCss(maxColumns, maxRows, size)}\n      }\\n`;\n        });\n        return style;\n    }\n    set autoflow(autoflow) {\n        if (this._autoflow === autoflow)\n            return;\n        this._autoflow = autoflow;\n        this.setAttribute('autoflow', autoflow);\n    }\n    set gutter(gutter) {\n        if (this._gutter === gutter)\n            return;\n        this._gutter = gutter;\n        this.style.setProperty('--grid-gutter', gutter);\n        this.setAttribute('gutter', gutter);\n    }\n    set rowgutter(rowgutter) {\n        if (this._rowgutter === rowgutter)\n            return;\n        this._rowgutter = rowgutter;\n        this.style.setProperty('--grid-row-gutter', rowgutter);\n        this.setAttribute('rowgutter', rowgutter);\n    }\n    set columns(columns) {\n        if (this._columns === columns)\n            return;\n        this._columns = columns;\n        columns.split(' ').forEach((item) => {\n            let size = item.replace(/[0-9]+/g, '').trim();\n            this.style.setProperty(`--grid-columns${size.length > 0 ? '-' : ''}${size}`, item.replace(/[^0-9]*/g, '').trim());\n        });\n        this.setAttribute('columns', columns);\n    }\n    set rows(rows) {\n        if (this._rows === rows)\n            return;\n        this._rows = rows;\n        rows.split(' ').forEach((item) => {\n            let size = item.replace(/[0-9]+/g, '').trim();\n            this.style.setProperty(`--grid-rows${size.length > 0 ? '-' : ''}${size}`, `repeat(${item.replace(/[^0-9]*/g, '').trim()}, 1fr)`);\n        });\n        this.setAttribute('rows', rows);\n    }\n}\nwindow.customElements.define('grid-container', Grid);\n\n}());\n//# sourceMappingURL=grid.js.map\n","(function () {\n'use strict';\n\nconst makeTemplate = function (strings) {\n    let html = strings[strings.length - 1];\n    let template = document.createElement('template');\n    template.innerHTML = html;\n    return template;\n};\n//# sourceMappingURL=makeTemplate.js.map\n\nvar ready = function (fn) {\n    if (document.readyState !== 'loading') {\n        fn();\n    }\n    else {\n        document.addEventListener('DOMContentLoaded', fn);\n    }\n};\n\n\n//# sourceMappingURL=ready.js.map\n\nlet template = makeTemplate `<style>\n    :host{\n      display: block;\n    }\n    img{\n      width: 100%;\n      height: auto;\n      vertical-align: top;\n    }\n    figure{\n      margin: 0;\n      display: block;\n      position: relative;\n      overflow: hidden;\n    }\n    :host([ratio]) figure{\n      height: 0;\n      width: 100%;\n    }\n  </style>\n  <figure>\n    <img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" alt=\"\" />\n  </figure>`;\nclass ResponsiveImage extends HTMLElement {\n    constructor() {\n        super();\n        this._src = null;\n        this._placeholder = null;\n        this._active = undefined;\n        this._img = null;\n        this._aspectRatio = null;\n        this._observer = null;\n        this._threshold = 0.5;\n        let shadowRoot = this.attachShadow({ mode: 'open' });\n        if (typeof ShadyCSS !== 'undefined') {\n            ShadyCSS.prepareTemplate(template, 'responsive-image');\n            ShadyCSS.styleElement(this);\n        }\n        shadowRoot.appendChild(document.importNode(template.content, true));\n    }\n    static get observedAttributes() {\n        return ['src', 'placeholder', 'active', 'threshold', 'ratio'];\n    }\n    attributeChangedCallback(attrName, oldVal, newVal) {\n        this[attrName] = newVal;\n    }\n    connectedCallback() {\n        this._setAspectRatio();\n        this._loadPlaceholder();\n        this._createObserver();\n    }\n    _loadImage() {\n        if (this._src === null || this._active !== 'true')\n            return;\n        let _img = document.createElement('img');\n        _img.addEventListener('load', () => {\n            this._img = this.shadowRoot.querySelector('img');\n            this._img.setAttribute('src', this._src);\n        });\n        ready(() => {\n            _img.setAttribute('src', this._src);\n            this._destroyObserver();\n        });\n    }\n    _loadPlaceholder() {\n        if (this._placeholder === null)\n            return;\n        this.shadowRoot.querySelector('img').setAttribute('src', this._placeholder);\n    }\n    _createObserver() {\n        if (this._active !== undefined)\n            return;\n        this._observer = new IntersectionObserver((changes) => {\n            changes.forEach((change) => {\n                if (change.isIntersecting) {\n                    change.target.setAttribute('active', 'true');\n                }\n            });\n        }, {\n            threshold: this.threshold\n        });\n        this._observer.observe(this);\n    }\n    _destroyObserver() {\n        if (this._observer === null)\n            return;\n        this._observer.unobserve(this);\n    }\n    _setAspectRatio() {\n        if (this._aspectRatio) {\n            this.shadowRoot.querySelector('figure').style.paddingBottom = this._aspectRatio + '%';\n        }\n    }\n    set src(src) {\n        if (this._src === src)\n            return;\n        this._src = src;\n        if (document.readyState !== 'loading') {\n            this._loadImage();\n        }\n    }\n    get src() {\n        return this._src;\n    }\n    set placeholder(placeholder) {\n        if (this._placeholder === placeholder)\n            return;\n        this._placeholder = placeholder;\n    }\n    get placeholder() {\n        return this._placeholder;\n    }\n    set active(active) {\n        active = (active === 'true' || active === true).toString();\n        if (this._active === active)\n            return;\n        this._active = active;\n        this.setAttribute('active', this._active);\n        this._loadImage();\n    }\n    get active() {\n        return this._active;\n    }\n    set threshold(threshold) {\n        threshold = parseFloat(parseFloat(threshold + '').toFixed(2));\n        if (isNaN(threshold) || threshold > 1 || threshold < 0)\n            threshold = 1;\n        if (this._threshold === threshold)\n            return;\n        this._threshold = threshold;\n    }\n    get threshold() {\n        return this._threshold;\n    }\n    set ratio(aspectRatio) {\n        if (this._aspectRatio === aspectRatio)\n            return;\n        let ratios = aspectRatio.split(':');\n        let ratio = null;\n        if (ratios.length > 1) {\n            ratio = 100 * (parseInt(ratios[1]) / parseInt(ratios[0]));\n        }\n        else {\n            ratio = parseInt(ratios[0]);\n        }\n        if (!isNaN(ratio)) {\n            this._aspectRatio = ratio;\n            this._setAspectRatio();\n        }\n    }\n    get ratio() {\n        return this._aspectRatio;\n    }\n}\nwindow.customElements.define('responsive-image', ResponsiveImage);\n\n}());\n//# sourceMappingURL=responsiveImage.js.map\n"]}